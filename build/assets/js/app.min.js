class BolognaMarathonApp{constructor(){this.init()}init(){this.setupMenu(),this.setupModules(),this.setupScrollEffects()}setupMenu(){let t=document.getElementById("menu-toggle"),s=document.getElementById("menu-nav");t&&s&&(t.addEventListener("click",()=>{s.classList.toggle("active"),t.classList.toggle("active")}),s.querySelectorAll(".menu-link").forEach(e=>{e.addEventListener("click",()=>{s.classList.remove("active"),t.classList.remove("active")})}),document.addEventListener("click",e=>{t.contains(e.target)||s.contains(e.target)||(s.classList.remove("active"),t.classList.remove("active"))}))}setupModules(){document.querySelectorAll("[data-module]").forEach(e=>{var t=e.getAttribute("data-module");this.initModule(t,e)})}initModule(e,t){switch(e){case"actionHero":this.initHeroModule(t);break;case"resultsTable":this.initResultsModule(t);break;case"gallery":this.initGalleryModule(t);break;default:console.log(`Modulo ${e} non ha JavaScript specifico`)}}initHeroModule(e){let t=e.querySelector(".hero-bg");t&&window.addEventListener("scroll",()=>{var e=-.5*window.pageYOffset;t.style.transform=`translateY(${e}px)`}),e.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();e=t.getAttribute("href").substring(1),e=document.getElementById(e);e&&e.scrollIntoView({behavior:"smooth",block:"start"})})})}initResultsModule(e){console.log("Modulo Results inizializzato")}initGalleryModule(e){e.querySelectorAll("img[data-lightbox]").forEach(e=>{e.addEventListener("click",()=>{this.openLightbox(e.src,e.alt)})})}openLightbox(e,t){let s=document.createElement("div");s.className="lightbox",s.innerHTML=`
            <div class="lightbox-content">
                <img src="${e}" alt="${t}">
                <button class="lightbox-close">&times;</button>
            </div>
        `,document.body.appendChild(s),s.querySelector(".lightbox-close").addEventListener("click",()=>{document.body.removeChild(s)}),s.addEventListener("click",e=>{e.target===s&&document.body.removeChild(s)}),document.addEventListener("keydown",function e(t){"Escape"===t.key&&(document.body.removeChild(s),document.removeEventListener("keydown",e))})}setupScrollEffects(){let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("animate-in")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".hero-module, .results-table, .module-wrapper").forEach(e=>{t.observe(e)})}}let Utils={debounce(t,s){let n;return function(...e){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),t(...e)},s)}},throttle(t,s){let n;return function(){var e=arguments;n||(t.apply(this,e),n=!0,setTimeout(()=>n=!1,s))}},formatTime(e){var t=Math.floor(e/3600),s=Math.floor(e%3600/60),e=e%60;return 0<t?`${t}:${s.toString().padStart(2,"0")}:`+e.toString().padStart(2,"0"):s+":"+e.toString().padStart(2,"0")}},lightboxCSS=(document.addEventListener("DOMContentLoaded",()=>{window.bolognaMarathon=new BolognaMarathonApp}),`
<style>
.lightbox {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: var(--z-modal, 1050);
    animation: fadeIn 0.3s ease;
}

.lightbox-content {
    position: relative;
    max-width: 90%;
    max-height: 90%;
}

.lightbox img {
    max-width: 100%;
    max-height: 100%;
    border-radius: var(--border-radius-lg);
}

.lightbox-close {
    position: absolute;
    top: -40px;
    right: 0;
    background: var(--white);
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    font-size: 24px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-fast);
}

.lightbox-close:hover {
    background: var(--primary-color);
    color: var(--white);
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.animate-in {
    animation: slideInUp 0.6s ease forwards;
}

@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
</style>
`);document.head.insertAdjacentHTML("beforeend",lightboxCSS),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".btn").forEach(e=>{e.hasAttribute("data-loading")&&e.addEventListener("click",function(e){e.preventDefault(),this.classList.add("btn-loading"),this.setAttribute("disabled","true");e=parseInt(this.getAttribute("data-loading"))||2e3;setTimeout(()=>{this.classList.remove("btn-loading"),this.removeAttribute("disabled")},e)}),e.hasAttribute("data-bounce")&&e.addEventListener("click",function(){this.classList.add("btn-bounce"),setTimeout(()=>{this.classList.remove("btn-bounce")},600)}),e.hasAttribute("data-pulse")&&(e.addEventListener("mouseenter",function(){this.classList.add("btn-pulse")}),e.addEventListener("mouseleave",function(){this.classList.remove("btn-pulse")}))}),document.querySelectorAll("form").forEach(e=>{let t=e.querySelector('.btn[type="submit"]');t&&e.addEventListener("submit",function(){t.classList.add("btn-loading"),t.setAttribute("disabled","true")})}),document.querySelectorAll('a[href^="http"]:not([href*="'+window.location.hostname+'"])').forEach(e=>{var t;e.querySelector(".fa-external-link-alt")||((t=document.createElement("i")).className="fas fa-external-link-alt",t.style.marginLeft="4px",e.appendChild(t))})}),window.ButtonUtils={setLoading:function(e,t=!0){t?(e.classList.add("btn-loading"),e.setAttribute("disabled","true")):(e.classList.remove("btn-loading"),e.removeAttribute("disabled"))},changeVariant:function(t,e){["primary","secondary","marathon","portici","runtune","ghost","outline"].forEach(e=>t.classList.remove("btn-"+e)),t.classList.add("btn-"+e)},changeSize:function(t,e){["small","medium","large","xl"].forEach(e=>t.classList.remove("btn-"+e)),t.classList.add("btn-"+e)},bounce:function(e){e.classList.add("btn-bounce"),setTimeout(()=>{e.classList.remove("btn-bounce")},600)}};class HeroModule{constructor(){this.init()}init(){this.setupParallax(),this.setupAnimations()}setupParallax(){let t=document.querySelector(".hero-bg");t&&window.addEventListener("scroll",()=>{var e=-.5*window.pageYOffset;t.style.transform=`translateY(${e}px)`})}setupAnimations(){var e=document.querySelector(".hero-title"),t=document.querySelector(".hero-subtitle"),s=document.querySelector(".hero-description");e&&this.animateText(e,0),t&&this.animateText(t,200),s&&this.animateText(s,400)}animateText(e,t){setTimeout(()=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="all 0.8s ease",setTimeout(()=>{e.style.opacity="1",e.style.transform="translateY(0)"},100)},t)}}document.addEventListener("DOMContentLoaded",()=>{new HeroModule});class MenuManager{constructor(e){this.menuId=e,this.menu=document.getElementById(e),this.searchInput=document.getElementById(e+"-search"),this.searchBtn=this.searchInput?.parentElement.querySelector(".search-btn"),this.suggestions=document.getElementById(e+"-suggestions"),this.toggle=document.getElementById(e+"-toggle"),this.overlay=document.getElementById(e+"-overlay"),this.close=document.getElementById(e+"-close"),this.countdownElement=this.menu?.querySelector(".countdown-timer"),this.init()}init(){this.menu&&(this.initCountdown(),this.initMobileMenu(),this.initSearchBox(),this.initStickyEffect(),this.initKeyboardNavigation())}initCountdown(){if(this.countdownElement){let i=new Date(this.menu.querySelector(".countdown").dataset.date).getTime();var e=()=>{var e,t,s,n=(new Date).getTime(),n=i-n;n<0?this.countdownElement.textContent="Evento concluso":(e=Math.floor(n/864e5),t=Math.floor(n%864e5/36e5),s=Math.floor(n%36e5/6e4),n=Math.floor(n%6e4/1e3),this.countdownElement.textContent=`${e}d ${t.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:`+n.toString().padStart(2,"0"))};e(),setInterval(e,1e3)}}initMobileMenu(){this.toggle&&this.overlay&&(this.toggle.addEventListener("click",()=>this.toggleMobileMenu()),this.close?.addEventListener("click",()=>this.closeMobileMenu()),this.overlay.addEventListener("click",e=>{e.target===this.overlay&&this.closeMobileMenu()}))}toggleMobileMenu(){this.overlay?.classList.toggle("active"),this.toggle?.classList.toggle("active"),document.body.classList.toggle("menu-open")}closeMobileMenu(){this.overlay?.classList.remove("active"),this.toggle?.classList.remove("active"),document.body.classList.remove("menu-open")}initSearchBox(){if(this.searchInput&&this.searchBtn){let e;this.searchInput.addEventListener("focus",()=>{this.searchInput.parentElement.classList.add("focused"),this.suggestions?.classList.add("show"),this.searchInput.value||(this.searchInput.placeholder="Digita la tua domanda...")}),this.searchInput.addEventListener("blur",()=>{this.searchInput.parentElement.classList.remove("focused"),setTimeout(()=>{this.suggestions?.classList.remove("show"),this.searchInput.value||(this.searchInput.placeholder="Chiedi a Ingrid")},200)}),this.searchInput.addEventListener("input",()=>{clearTimeout(e),this.searchInput.parentElement.classList.add("typing"),e=setTimeout(()=>{this.searchInput.parentElement.classList.remove("typing")},300),0<this.searchInput.value.length?this.suggestions?.classList.add("has-input"):this.suggestions?.classList.remove("has-input")}),this.searchBtn.addEventListener("click",()=>{var e=this.searchInput.value.trim();e&&this.sendQuery(e)}),this.searchInput.addEventListener("keypress",e=>{"Enter"===e.key&&this.searchBtn.click()}),this.suggestions?.addEventListener("click",e=>{e.target.classList.contains("suggestion-item")&&(this.searchInput.value=e.target.textContent,this.searchInput.focus(),this.searchBtn.click())})}}sendQuery(e){this.searchBtn.classList.add("sending"),this.searchInput.classList.add("processing"),setTimeout(()=>{this.searchBtn.classList.remove("sending"),this.searchInput.classList.remove("processing");let e=this.searchInput.placeholder;this.searchInput.placeholder="Invio in corso...",this.searchInput.value="",setTimeout(()=>{this.searchInput.placeholder=e},2e3)},1e3)}initStickyEffect(){window.scrollY;let t;window.addEventListener("scroll",()=>{var e=window.scrollY;100<e?this.menu?.classList.add("scrolled"):this.menu?.classList.remove("scrolled"),t=e})}initKeyboardNavigation(){document.addEventListener("keydown",e=>{"Escape"===e.key&&this.closeMobileMenu()})}}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".main-menu").forEach(e=>{var t=e.id;t&&!e.hasAttribute("data-initialized")&&(new MenuManager(t),e.setAttribute("data-initialized","true"))})}),window.MenuManager=MenuManager,document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("category-filter");let i=document.getElementById("results-table"),a=document.querySelectorAll(".sortable");e&&i&&e.addEventListener("change",function(){let s=this.value;i.querySelectorAll("tbody tr").forEach(e=>{var t=e.getAttribute("data-category");e.style.display=s&&t!==s?"none":""})}),a.length&&i&&a.forEach(e=>{e.addEventListener("click",function(){let s=this.getAttribute("data-sort"),t=i.querySelector("tbody");var e=Array.from(t.querySelectorAll("tr"));let n=!this.classList.contains("asc");a.forEach(e=>e.classList.remove("asc","desc")),this.classList.add(n?"asc":"desc"),e.sort((e,t)=>{e=e.querySelector(`[data-sort="${s}"]`)?.textContent||"",t=t.querySelector(`[data-sort="${s}"]`)?.textContent||"";return"position"===s||"time_result"===s?n?e.localeCompare(t,void 0,{numeric:!0}):t.localeCompare(e,void 0,{numeric:!0}):n?e.localeCompare(t):t.localeCompare(e)}),e.forEach(e=>t.appendChild(e))})})}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll('[data-module="select"] select[data-enhance="select2"]');e.length&&void 0!==window.jQuery&&void 0!==window.jQuery.fn.select2&&e.forEach(function(e){var t=e.getAttribute("data-placeholder")||"Seleziona...";window.jQuery(e).select2({width:"resolve",placeholder:t,allowClear:!0})})});
//# sourceMappingURL=app.min.js.map
